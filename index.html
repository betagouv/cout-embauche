<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Simulateur de coût d'embauche</title>

		<link rel="stylesheet" type="text/css" href="css/main.css"/>
	</head>

	<body>
		<section id="input">
			<form action="http://api-test.openfisca.fr/api/1/formula/salsuperbrut" method="GET">
				<select data-provides="employer">
					<option>Mon entreprise</option>
					<option disabled>Mon association</option>
					<option disabled>Mon établissement public</option>
					<option disabled>Moi, comme particulier,</option>
				</select>

				de
				<input name="effectif_entreprise" id="effectif_entreprise" type="number" min="0" placeholder="1" value="1" max="99999">
				<label for="effectif_entreprise" title="En équivalents temps pleins : un mi-temps vaut 0,5, par exemple.">salariés</label>

				souhaite rémunérer un.e
				<select data-provides="employee">
					<option>salarié.e</option>
					<option disabled>aide à domicile</option>
					<option disabled>auto-entrepeneur.se</option>
				</select>

				en statut
				<select name="type_sal">
					<option value="prive_non_cadre">non-cadre</option>
					<option value="prive_cadre">cadre</option>
				</select>

				à hauteur de
				<input name="salaire_de_base" id="salaire" type="number" min="0" max="9999999" placeholder="1445,38" value="1445.38"><label for="salaire">&nbsp;€</label>

				<select data-sets="#salaire.name">
					<option value="salaire_de_base">brut</option>
					<option disabled value="salaire_net_a_payer">net</option>
				</select>

				<select hidden name="allegement_fillon_mode_recouvrement">
					<option value="progressif" selected="selected">progressive</option>
					<option value="fin_d_annee">en fin d'année</option>
					<option value="anticipe_regularisation_fin_de_periode">anticipée</option>
				</select>

				par
				<select data-provides="period">
					<option disabled>an</option>
					<option>mois</option>
					<option disabled>jour</option>
					<option disabled>heure</option>
				</select>.

				<noscript>
					<input type="submit" value="Combien cela va-t-il coûter ?">
				</noscript>
			</form>
		</section>

		<section id="result">
			<p>Reviendra à <strong><span data-source="salsuperbrut">…</span>&nbsp;€ par <span data-source="period">mois</span></strong>.</p>
		</section>

		<script type="text/javascript" src="display.js"></script>
		<script type="text/javascript" src="update.js"></script>

		<script type="text/javascript">
			(function() {

			var form = document.querySelector('form');

			form.addEventListener('change', reflectParameterChange);

			form.addEventListener('change', update);
			form.addEventListener('keyup', update);

			update.call(form);

			})();
		</script>
	</body>
</html>
