<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>Simulateur de coût d'embauche</title>

		<link rel="stylesheet" type="text/css" href="css/main.css"/>
		<link rel="stylesheet" type="text/css" href="css/details.css"/>
	</head>

	<body>
		<section id="input">
			<form action="http://openfisca.sgmap.fr/api/2/formula/accident_du_travail+famille+fnal+versement_transport+agff_salarie+agirc_salarie+apec_employe+arrco_tranche_a_employe+assedic_employe+cotisation_exceptionnelle_temporaire_employe+vieillesse_plafonnee_employe+vieillesse_deplafonnee_employe+maladie_employe+csgsald+mhsup+csgsali+crdssal+sal+salaire_net_a_payer+salsuperbrut+ags+agff_employeur+apec_employeur+arrco_tranche_a_employeur+assedic_employeur+cotisation_exceptionnelle_temporaire_employeur+vieillesse_deplafonnee_employeur+vieillesse_plafonnee_employeur+allocations_temporaires_invalidite+maladie_employeur+cotisations_patronales_main_d_oeuvre+contribution_developpement_apprentissage+contribution_solidarite_autonomie+formation_professionnelle+participation_effort_construction+taxe_apprentissage+taxe_salaires" method="GET">
				<select data-sets="#employer_type.textContent">
					<option value="entreprise">Mon entreprise</option>
					<option value="association" disabled>Mon association</option>
					<option value="établissement" disabled>Mon établissement public</option>
					<option value="foyer" disabled>Moi, comme particulier,</option>
				</select>

				de
				<input name="effectif_entreprise" id="effectif_entreprise" type="number" min="0" placeholder="1" value="1" max="99999">
				<label for="effectif_entreprise" title="En équivalents temps pleins : un mi-temps vaut 0,5, par exemple.">salariés</label>

				souhaite rémunérer un.e
				<select data-provides="employee">
					<option>salarié.e</option>
					<option disabled>apprenti.e</option>
					<option disabled>aide à domicile</option>
					<option disabled>intermittent.e du spectacle</option>
				</select>

				en statut
				<select name="type_sal">
					<option value="prive_non_cadre">non-cadre</option>
					<option value="prive_cadre">cadre</option>
				</select>

				à hauteur de
				<input name="salaire_de_base" id="salaire" type="number" min="0" max="9999999" placeholder="1445,38" value="1445.38"><label for="salaire">&nbsp;€</label>

				<select data-sets="#salaire.name">
					<option value="salaire_de_base">brut</option>
					<option disabled value="salaire_net_a_payer">net</option>
				</select>

				<select hidden name="allegement_fillon_mode_recouvrement">
					<option value="progressif" selected="selected">progressive</option>
					<option value="fin_d_annee">en fin d'année</option>
					<option value="anticipe_regularisation_fin_de_periode">anticipée</option>
				</select>

				par
				<select data-provides="period">
					<option disabled>an</option>
					<option>mois</option>
					<option disabled>jour</option>
					<option disabled>heure</option>
				</select>.

				<noscript>
					<input type="submit" value="Combien cela va-t-il coûter ?">
				</noscript>
			</form>
		</section>

		<section id="result">
			<p>
				Cela coûtera
				<span data-source="salsuperbrut" title="Salaire super-brut">…</span>&nbsp;€
				par <span data-source="period">mois</span>
				à mon <span id="employer_type">entreprise</span>.
			</p>
			<p>
				Mon <span data-source="employee">salarié.e</span>
				touchera <span data-source="salaire_net_a_payer" title="Salaire net">…</span>&nbsp;€
				par <span data-source="period">mois</span> et sera imposable à hauteur de <span data-source="sal">…</span>&nbsp;€.
			</p>
		</section>

		<details>
			<summary>Cotisations détaillées</summary>

			<table>
				<caption>Cotisations employeur</caption>

				<tr>
					<th>AGS</th>
					<td><span data-source="ags"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>AGFF</th>
					<td><span data-source="agff_employeur"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>APEC</th>
					<td><span data-source="apec_employeur"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>ARRCO</th>
					<td><span data-source="arrco_tranche_a_employeur"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>ASSEDIC</th>
					<td><span data-source="assedic_employeur"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>CET</th>
					<td><span data-source="cotisation_exceptionnelle_temporaire_employeur"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Vieillesse déplafonnée</th>
					<td><span data-source="vieillesse_deplafonnee_employeur"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Vieillesse plafonnée</th>
					<td><span data-source="vieillesse_plafonnee_employeur"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Invalidité</th>
					<td><span data-source="allocations_temporaires_invalidite"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Maladie</th>
					<td><span data-source="maladie_employeur"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Cotisations sociales patronales main d'oeuvre</th>
					<td><span data-source="cotisations_patronales_main_d_oeuvre"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Contribution au développement de l'apprentissage</th>
					<td><span data-source="contribution_developpement_apprentissage"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Contribution solidarite autonomie</th>
					<td><span data-source="contribution_solidarite_autonomie"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Formation professionnelle</th>
					<td><span data-source="formation_professionnelle"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Participation à l'effort de construction</th>
					<td><span data-source="participation_effort_construction"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Taxe d'apprentisssage</th>
					<td><span data-source="taxe_apprentissage"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Taxe sur les salaires</th>
					<td><span data-source="taxe_salaires"></span>&nbsp;€</td>
				</tr>
			</table>

			<table>
				<caption>Cotisations salarié</caption>

				<tr>
					<th>Accident du travail</th>
					<td><span data-source="accident_du_travail"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Famille</th>
					<td><span data-source="famille"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Fonds national action logement</th>
					<td><span data-source="fnal"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Versement transport</th>
					<td><span data-source="versement_transport"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>AGFF</th>
					<td><span data-source="agff_salarie"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>AGIRC</th>
					<td><span data-source="agirc_salarie"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>APEC</th>
					<td><span data-source="apec_employe"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>ARRCO</th>
					<td><span data-source="arrco_tranche_a_employe"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Assurance chômage</th>
					<td><span data-source="assedic_employe"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Cotisation exceptionnelle temporaire</th>
					<td><span data-source="cotisation_exceptionnelle_temporaire_employe"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Vieillesse plafonnée</th>
					<td><span data-source="vieillesse_plafonnee_employe"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Vieillesse déplafonnée</th>
					<td><span data-source="vieillesse_deplafonnee_employe"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Maladie</th>
					<td><span data-source="maladie_employe"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>CSG déductible (salaires)</th>
					<td><span data-source="csgsald"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>Heures supplémentaires éxonérées</th>
					<td><span data-source="mhsup"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>CSG non déductible (salaires)</th>
					<td><span data-source="csgsali"></span>&nbsp;€</td>
				</tr>
				<tr>
					<th>CRDS (salaires)</th>
					<td><span data-source="crdssal"></span>&nbsp;€</td>
				</tr>
			</table>

			<button id="createTest">Corriger ces résultats</button>
		</details>


		<script type="text/javascript" src="display.js"></script>
		<script type="text/javascript" src="update.js"></script>

		<script type="text/javascript">
			(function() {

			var form = document.querySelector('form');

			form.addEventListener('change', reflectParameterChange);

			form.addEventListener('change', update);
			form.addEventListener('keyup', update);

			update.call(form);

			})();
		</script>

		<script type="text/javascript" src="createTest.js"></script>

		<script type="text/javascript">
			document.getElementById('createTest').addEventListener('click', createTest);
		</script>

		<script type="text/javascript" src="lib/details.polyfill.js"></script>
	</body>
</html>
